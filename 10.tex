\documentclass[a4paper]{article}

\usepackage{fullpage} % Package to use full page
\usepackage{parskip} % Package to tweak paragraph skipping
\usepackage{tikz} % Package for drawing
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{enumitem}

\title{10 Recurrence Relations}
\author{Ling Tan}
\date{2018/09}

\begin{document}

\maketitle

\section*{10.2 The Second-Order Linear Homogeneous Recurrence Relation with Constant Coefficients}
\textcolor{blue}{Definition}: Let $k\in\mathbb{Z}^+$ and $C_0\neq0,C_1,C_2, \ldots, C_k\neq 0$ be real numbers. If $a_n$, for $n\geq0$, is a discrete function, then
$$C_0a_n+C_1a_{n-1}+C_2a_{n-2}+\cdots+C_ka_{n-k}=f(n),\quad n\geq k,$$
is a linear recurrence relation (with constant coefficients) of order $k$.\\
When $f(0)=0$ for all $n\geq0$, the relation is called homogeneous; otherwise, it is called non-homogeneous.\\
\\
\color{red}e.g.: \color{black} When $k=1, C_0a_n+C_1a_{n-1}=g(n)\Rightarrow a_n=-\frac{C_1}{C_0}a_{n-1}+\frac{g(n)}{C_0}$.\\
If denote $C=-\frac{C_1}{C_0}$ and $h(n)=\frac{g(n)}{C_0}$,\\
\begin{align}
    a_n&=Ca_{n-1}+h(n)\\
    \Rightarrow a_{n-1}&=Ca_{n-2}+h(n-1)\\
    \Rightarrow a_{n-2}&=Ca_{n-3}+h(n-2)\\
    &\cdots\\
    \Rightarrow a_{2}&=Ca_{1}+h(2)\\
    \Rightarrow a_{1}&=Ca_{0}+h(1)
\end{align}
If $(2)\cdot C, (3)\cdot C^2,\cdots, (5)\cdot C^{n-2}, (6)\cdot C^{n-1}$ and add them up, then we have
$$a_n=C^na_0+C^{n-1}h(1)+C^{n-2}h(2)+\cdots + Ch(n-1)+h(n)=C^na_0+\sum_{i=0}^{n-1}{C^ih(n-i)}$$

\section*{10.4 The Method of Generating Functions}
Example 10.38: Solve the relation $a_n-3a_{n-1}=n,n\geq 1, a_0=1$.
\begin{align*}
    (n=1)&\quad\quad a_1-3a_0=1 & a_1x^1-3a_0x^1=1x^1\\
    (n=2)&\quad\quad a_2-3a_1=2 & a_2x^2-3a_1x^2=2x^2\\
    \vdots\quad&\quad\quad\quad\quad \vdots &\vdots\quad\quad\quad\quad\\
\end{align*}
Add the second set of equations, we find that
\begin{equation} \label{eq:1}
\sum_{n=1}^{\infty}{a_nx^n}-3\sum_{n=1}^{\infty}{a_{n-1}x^n}=\sum_{n=1}^{\infty}{nx^n}
\end{equation}

Let $f(x)=\sum_{n=0}^{\infty}{a_nx^n}$ be the (ordinary) generating function for the sequence $a_0,a_1,\ldots$. Then the equation \ref{eq:1} can be rewritten as
\begin{align*}
    \big(f(x)-a_0\big)-3x\sum_{n=1}^{\infty}{a_{n-1}x^{n-1}}&=\sum_{n=1}^{\infty}{nx^n}=\sum_{n=0}^{\infty}{nx^n}\\
    \big(f(x)-a_0\big)-3xf(x)&=\sum_{n=0}^{\infty}{nx^n}\\
    \big(f(x)-1\big)-3xf(x)&=\frac{x}{(1-x)^2}\\
    f(x)&=\frac{1}{1-3x}+\frac{x}{(1-x)^2(1-3x)}
\end{align*}
Using a partial fraction decomposition, we find that
\begin{equation*}
    \frac{x}{(1-x)^2(1-3x)}=\frac{A}{1-x}+\frac{B}{(1-x)^2}+\frac{C}{1-3x}
\end{equation*}
\\
Example 10.39: 
\end{document}