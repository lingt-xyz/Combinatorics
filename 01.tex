\documentclass[letter]{book}

\usepackage{fullpage} % Package to use full page
\usepackage{parskip} % Package to tweak paragraph skipping
\usepackage{tikz} % Package for drawing
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{amssymb}

\usepackage{enumitem}
\usepackage{csquotes}

\begin{document}
\chapter{Fundamental Principle of Counting}

\section*{1.1 The Rules of Sum and Product}
\textcolor{blue}{The Rule of Sum}: If a first task can be performed in $m$ ways, while a second task can be performed in $n$ ways, and the two tasks cannot be performed simultaneously, then performing either task can be accomplished in any one of $m+n$ ways.\\
\\
\textcolor{blue}{The Rule of Product}: If a procedure can be broken down into first and second stages, and if there are $m$ possible outcomes for the first stage and if, for each of these outcomes, there are $n$ possible outcomes for the second stage, then the total procedure can be carried out, in the designated order, in $mn$ ways.

\section*{1.2 Permutations}
\textcolor{blue}{Definition 1.1}: For an integer $n\geq 0$, $n$ factorial (denoted $n!$) is defined by
$$
n! =
\begin{cases}
1,  & \text{if $n=0$} \\
(n)(n-1)(n-2)\dots(3)(2)(1), & \text{if $n\geqslant1$}
\end{cases}
$$
\textcolor{blue}{Definition 2.1}: Given a collection of $n$ distinct objects, any (linear) arrangement of these objects is called a permutation of the collection. The number of permutations of size $r$, where $0\leq r\leq n$, from a collection of $n$ objects, is
$$
P(n,r)={(n)(n-1)(n-2)\dots(n-r+1)(n-r)(n-r-1)\dots(3)(2)(1)\over(n-r)(n-r-1)\dots(3)(2)(1)}={n!\over(n-r)!}
$$
\begin{displayquote}
Anagram: a word formed by rearranging the letters of another word. Anagram is also called permutations.
\end{displayquote}

\subsection*{Examples:}
\begin{enumerate}
    \item ART: $3\times 2\times 1=6$
    \item MATH: $4\times 3\times 2\times 1 = 24$
    \item CHAPTER: four letters word is $7\times 6\times 5\times 4$
    \item Put $A,B,C$ into $10$ numbered boxes
    \begin{enumerate}
        \item At most one per box: $10 \times 9\times 8=P(10,3)$
        \item If boxes can get more than one: $10\times 10 \times 10$
    \end{enumerate}
    \item Put $3$ identical objects into $10$ numbered boxes, at most one per box : $\frac{P(10,3)}{3!}$
    \item How many $4$ digital decimal numbers:
    \begin{enumerate}
        \item If allow $0$: $10\times 10\times 10\times 10$
        \item If allow $0$ but no repeated digits: $10\times 9\times 8\times 7$
        \item If no leading $0$ and no repeated digits: $9\times 9\times \times 7$
    \end{enumerate}
    \item How many $5$ digital numbers
    \begin{enumerate}
        \item Must contains $0$:\\
        $$
        \left.
            \begin{array}{ll}
            0\quad \_\quad \_\quad \_\quad \_:&10^4\\
            \_\quad 0\quad \_\quad \_\quad \_:&10^4\\
            \_\quad \_\quad 0\quad \_\quad \_:&10^4\\
            \_\quad \_\quad \_\quad 0\quad \_:&10^4\\
            \_\quad \_\quad \_\quad \_\quad 0:&10^4
            \end{array}
        \right\}
        =5\times10^4
        $$
        \begin{itemize}
            \item How about $00012$, it was counted three times.
            \item $10^5 - 9^5$: $9^5$ is who does not contain $0$.
        \end{itemize}
        \item Must contains $0$ and $1$: $10^5-9^5-9^5\color{red}{+8^5}$
    \end{enumerate}
    \item Choose a committee of $3$ from $80$ students
    \begin{enumerate}
        \item Because order does not matter: $C(80,3)=\binom{80}{3}=\frac{80!}{77!\times 3!}$
        \item If choose $77$, should be the same: $C(80,77)=\binom{80}{77}=\frac{80!}{3!\times 77!}$
    \end{enumerate}
    \item Choose a committee of $6$: $3$ of them are from $60$ cs students, $3$ of them are from $20$ math students: $C(60,3)\times C(20,3)$
    \item $6$ TAs, assign each TA to one time slot($A: 1-2pm; B: 2-3pm; C:3-4pm$), and every time slot should have $2$ TAs.
    \begin{enumerate}
        \item M1: $\binom{6}{2} \times \binom{4}{2} \times \binom{2}{2}$
        \item M2: think it differently. Because every TA should be assigned to one time slot, so the first time slot has $6$ choices, and the second time slot has $5$ choices, and so on. It becomes to an anagram problem.
        $$
        \_\quad \_\quad \_\quad \_\quad \_\quad \_\quad
        $$
        But in each time slot, the TAsâ€™ order does not matter: ${6!\over2!\times2!\times2!}$
    \end{enumerate}
    \item BANANAS
    \begin{enumerate}
        \item $7!\over3!\times2!$
        \item No adjacent $A$s:
        $$
        \_B\_N\_N\_S\_
         \begin{cases}
         \text{BNNS}:  & 4!/2! \\
         A \text{ can be put to 5 positions:} & \binom{5}{3}
         \end{cases}
        $$
        In total: $4!\over2! \times\binom{5}{3}$
    \end{enumerate}
    \item Example 1.16 If six people, designated as $A,B,\ldots,F$, are seated about a round table, how many different circular arrangements are possible, if arrangements are considered the same when one can be obtained from the other by rotation?\\
    Answer: $6!/6=5!=120$.\\
    Think in a different way:If we place $A$ at the table, five locations remain to be filled. Using $B,C,\ldots, F$ to fill these five positions is the problem of permuting $B,C,\ldots, F$ in a linear manner, and this can be done in $5!=120$ ways.
    \item Example 1.17: Suppose now that the six people of Example 1.16 are three married couples and that $A,B$ and $C$ are females. We want to arrange the six people around the table so that the sexes alternate.\\
    $A$ (a female) is placed. The next position, clockwise from $A$, is marked $M1$ (Male 1) and can be filled in three ways. Proceeding in this manner, by the rule of product, there are $3\times 2\times 2\times 1\times 1=12$ ways.
    \item Sixteen people are to be seated at two circular tables, one which first fits 10 people and the other 6. How many different seating arrangements are possible? $\binom{16}{6}\times \frac{6!}{6}\times \frac{10!}{10}$
    \item Put $15$ different books into two shelves so that there is at least one book on each shelf? (Consider the books in each arrangement to be stacked one next to each other, with the first book on each shelf at the left of the shelf.)
    \begin{enumerate}
        \item $15$ books: $15!$
        \item Separate $15$ books into two parts, so a bar can be put at $14$ positions: $14$
        \item In total: $15!\times 14$
    \end{enumerate}
    Why $15!\times 2^{15-2}$ is not right?\\
    What about three shelves: $15!\times C(14,2)$
    
\end{enumerate}

\section*{1.3 Combinations: The Binomial Theorem}
\textcolor{blue}{Theorem 1.1}: The Binomial Theorem. If $x$ and $y$ are variables and $n$ is a positive integer, then
$$
(x+y)^n=\binom{n}{0}x^0y^n+\binom{n}{1}x^1y^{n-1}+\binom{n}{2}x^2y^{n-2}+\dots+\binom{n}{n-1}x^{n-1}y^1+\binom{n}{n}x^{n}y^0=\sum_{k=0}^n\binom{n}{k}x^ky^{n-k}
$$
Proof: Take $n=4$ for example. The coefficient of $x^2y^2$ in the expansion of the product 
$$
(x+y)(x+y)(x+y)(x+y)
$$
is the number of ways in which we can select two $x$'s from four $x$'s, one of which is available in each factor. That is, the coefficient of $x^2y^2$ in the expansion of $(x+y)^4$ is $\binom{4}{2}=6$, the number of ways to select two distinct objects from a collection of four distinct objects.

\textcolor{blue}{Corollary 1.1}: For each integer $n>0$:
$$
\binom{n}{0}+\binom{n}{1}+\binom{n}{2}+\dots+\binom{n}{n}=2^n
$$
$$
\binom{n}{0}-\binom{n}{1}+\binom{n}{2}-\dots+(-1)^n\binom{n}{n}=0
$$
\subsection*{Examples}
\begin{enumerate}
    \item SOCIOLOGICAL:\\
    $3$ $O$s, $2$ $C$s, $2$ $I$s, $2$ $L$s, $1$ $S$, $1$ $A$, $1$ $G$,  
    \begin{enumerate}
        \item How many arrangements are there of all the letters: $\frac{12!}{3!2!2!}$
        \item $A$ and $G$ are adjacent: take $A$ and $G$ as one letter $\Rightarrow \frac{11!}{3!2!2!}\times 2$
        \item vowels adjacent: take vowels as one letter $\Rightarrow\frac{7!}{2!2!}\times \frac{6!}{3!2!}$
    \end{enumerate}
    \item How many bytes contain
    \begin{enumerate}
        \item exactly two $1$'s: $\frac{8!}{2!6!}$
        \item exactly four $1$'s: $\frac{8!}{4!4!}$
        \item exactly six $1$'s: $\frac{8!}{6!2!}$
        \item at least six $1$'s: $\frac{8!}{6!2!}+\frac{8!}{7!1!}+1$
    \end{enumerate}
    \item Determine the coefficient of
    \begin{enumerate}
        \item $xyz^2$ in $(x+y+z)^4$: $\binom{4}{1}\binom{3}{1}$
        \item $xyz^2$ in $(w+x+y+z)^4$: $\binom{4}{1}\binom{3}{1}$
        \item $xyz^2$ in $(2x-y-z)^4$: $(2)^1(-1)^1(-1)^2\frac{4}{1!1!2!}$
        \item $xyz^{-2}$ in $(x-2y+3z^{-1})^4$: $(1)^1(-2)^1(3)^{2}\frac{4}{1!1!2!}$
        \item $w^3x^2yz^2$ in $(2w-x+3y-2z)^8$: $(2)^3(-1)^2(3^1)(-2)^2\frac{8!}{3!2!1!2!}$
    \end{enumerate}
    \item Determine the sum of all the coefficients in the expansions of
    \begin{enumerate}
        \item $(x+y)^3$: $(1+1)^3$
        \item $(x+y)^{10}$: $(1+1)^{10}$
        \item $(x+y+z)^{10}$: $(1+1+1)^{10}$
        \item $(w+x+y+z)^5$: $(1+1+1+1)^5$
        \item $(2s-3t+5u+6v-11w+3x+2y)^{10}$: $(2-3+5+6-11+3+2)^{10}$
    \end{enumerate}
\end{enumerate}
\section*{1.4 Combinations with Repetition}
When we wish to select, with repetition, $r$ of $n$ distinct objects, we find that we are considering all arrangements of $r$ $x$'s and $n-1$ \textbar 's and the that their number is
$$
\frac{(n+r-1)!}{r!(n-1)!}=\binom{n+r-1}{r}.
$$
Consequently, the number of combinations of $n$ objects taken $r$ at a time, with repetition, is $C(n+r-1,r)$.
\subsection*{Examples}
\begin{enumerate}
    \item Put $3$ bananas into $10$ boxes
    \begin{itemize}
        \item Put all bananas into one box: $\binom{10}{1}$
        \item Put all bananas into two boxes: $\binom{10}{2}\times 2$, because $3$ bananas can be put into $(2,1)$ and $(1,2)$.
        \item Put all bananas into three boxes: $\binom{10}{3}$
        \item In total: $\binom{10}{1}+\binom{10}{2}\times 2+\binom{10}{3}=220$
    \end{itemize}
    Think in a different way: $10$ $x$'s, $2$ \textbar 's, in total $12$ characters: $\binom{12}{3}=220$
    \item Consider the following moves in $\mathbb{R}^3$:
    \begin{itemize}
        \item East: $(x,y,z)\rightarrow (x+1,y,z)$
        \item North: $(x,y,z)\rightarrow (x,y+1,z)$
        \item Up: $(x,y,z)\rightarrow (x,y,z+1)$
    \end{itemize}
    Using only these three moves, how many paths are there from $(0,0,0)$ to $(2,3,4)$? In general, how many paths are there from $(0,0,0)$ to $(l,m,n)$? (where $l,m,n\geq0$)\\
    $$
    \frac{(l+m+n)!}{l!m!n!}
    $$ 
    \item Move from $(1,1)$ to $(8,8)$. That's $7$ Us, and $7$ Rs.
    \begin{enumerate}
        \item If one step per move: $\frac{14!}{7!7!}$
        \item If allow more than one step per move, but cannot mix U and R. That is UUU is one step, \ldots\\
        How may paths of $4$ Rs and $3$ Us? e.g. \underline{RRR}U\underline{R}U\underline{R}UUUUU\underline{RR}.
        \begin{itemize}
            \item $4$ Rs means $4$ boxes, we put single Rs to $4$ boxes.
            \begin{itemize}
                \item One R per box
                \item $3$ Rs to any box: $\binom{4+3-1}{3}=20$
            \end{itemize}
            \item $3$ Us means $3$ boxes, we put single Us to $3$ boxes.
            \begin{itemize}
                \item One U per box
                \item $4$ Rs to any box: $\binom{3+4-1}{4}=15$
            \end{itemize}
            \item In total: $\binom{4+3-1}{3}\times \binom{3+4-1}{4}=20\times 15$.
        \end{itemize}
    \end{enumerate}
    \item You roll 100 identical dice
    \begin{enumerate}
        \item How many outcomes are there: $\binom{6+100-1}{100}$
        \item How many outcomes are there in which each type of face appears at least three times: $\binom{82+6-1}{82}$
    \end{enumerate}
    \item Let $m,n$ be positive integers with $m\geq n$. How many ways are there to distribute $m$ identical objects into $n$ distinct containers so that no container is empty: $\binom{n+(m-n)-1}{m-n}$
    \item Determine the number of integer solutions to the equation
    $$
    x_1+x_2+x_3+x_4=32,
    $$
    under each of the following conditions
    \begin{enumerate}
        \item $x_i\geq 0$: $\binom{32+4-1}{32}$
        \item $x_i> 0$: $\binom{28+4-1}{28}$
        \item $x_1,x_2\geq 5$ and $x_3,x_4\geq 7$: $\binom{8+4-1}{8}$
        \item $x_i\geq -2$: $\binom{40+4-1}{40}$
    \end{enumerate}
    \item Example 1.35: $x_1+x_2+x_3+x_4+x_5+x_6<10,x_i\geq 0$.\\
    $\Rightarrow x_1+x_2+x_3+x_4+x_5+x_6+x_7=10,x_7>0$\\
    $\Rightarrow y_1+y_2+y_3+y_4+y_5+y_6+y_7=9,y_i\geq 0$\\
    $\Rightarrow \binom{7+9-1}{9}$
\end{enumerate}
\section*{1.5 The Catalan Numbers}

\end{document}